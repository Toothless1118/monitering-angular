/*
describe('#Energy by Sun-Hours element - bl.analyze.solar.surface', function () {
    beforeEach(module('bl.analyze.solar.surface'));
    beforeEach(module('app/elements/sunhours-energy/template.html'));
    
    var scope, el, socket;
    beforeEach(inject(function($rootScope, $compile, blSocket) {
        scope = $rootScope;
        el = angular.element(
            '<element-energy-by-sunhours></element-energy-by-sunhours>'
        );
        $compile(el)($rootScope.$new());
        $rootScope.$digest();
        scope = el.isolateScope() || el.scope();
        socket = blSocket;
    }));


    it('should draw energy-sunhours with angular-directive', function () {
        scope.$apply();
        expect(el.find('.element').attr('id')).to.be.equal('sunhours-energy');
    });

    it('should exist #drawHeatmap function', function () {
      expect(scope.drawHeatmap).to.exist();
      expect(scope.drawHeatmap).to.be.instanceOf(Function);
    });

    it('should draw heatmap chart', function () {
        scope.calendarChartConfig = {
           chart: {
            type: 'heatmap'
          },
          title: {
            text: 'Sun-Hours',
            floating: true,
            align: 'right',
            x: -45,
            y: 85,
            useHTML: true,
             style: {
                color: '#89969d',
                fontSize: '12px',
                fontFamily: 'HelveticaNeueW02-55Roma',
                transform: 'rotate(-90deg)',
                '-webkit-transform': 'rotate(-90deg)',
                '-moz-transform': 'rotate(-90deg)',
                '-ms-transform': 'rotate(-90deg)',
                '-o-transform': 'rotate(-90deg)',
                'filter': 'progid:DXImageTransform.Microsoft.BasicImage(rotation=3)'
              }
          },
          xAxis: {
            opposite: true,
            lineWidth: 0,
            minorGridLineWidth: 0,
            lineColor: 'transparent',
            minorTickLength: 0,
            tickLength: 0,
            type: 'datetime',
            labels: {
              align: 'left',
              x: 5,
              format: '{value:%b}',
              style: {
                color: '#89969d',
                fontFamily: 'HelveticaNeueW02-75Bold' 
              }
            }
          },
          yAxis: {
            categories: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],
            title: null,
            labels: {
              style: {
                color: '#5d6b87',
                fontFamily: 'HelveticaNeueW02-55Roma',
                'text-align' : 'center'
              }
            }
          },
          colorAxis: {
            min: 0,
            minColor: '#FFFFFF',
            maxColor: '#fab8a0'
          },
          legend: {
            align: 'right',
            layout: 'vertical',
            margin: 35,
            verticalAlign: 'top',
            y: 25,
            symbolHeight: 90
          },
          tooltip: {
            backgroundColor: 'rgba(35, 43, 57, 0.9)',
            borderColor: null,
            borderWidth: 0,
            shadow: false,
            useHTML: true,
            formatter: function () {
              var date = moment(this.point.x).format('ll');
              return '<span>' + date + '</span> <br><span class="text-orange">' + 
                this.point.value.toFixed(2) + ' Sun-hours</span>  <br><br>' +
                '<span>On ' + date + ', the sun rose at </span> <br>' + 
                '<span>6:21am and set at 6:47pm, and it </span> <br>' + 
                '<span>was a mostly sunny day. Due to the </span> <br>' + 
                '<span>angle of the sun at this time of year, </span> <br>' + 
                '<span>the sunâ€™s maximum potential is </span> <br>' + 
                '<span>relatively small, so there were only </span> <br>' + 
                '<span class="text-orange">' + this.point.value.toFixed(2) + 
                '</span><span> Sun-Hours for the day.</span>';
            },
            style: {
              color: '#FFFFFF',
              fontSize: '11px',
              padding: '20px',
              fontFamily: 'HelveticaNeueW02-55Roma' 
            }
          },
          series: [{
            borderWidth: 1, 
            borderColor: '#e9e9e9',
            colsize: 24 * 7 * 3600 * 1000,
            data: []
          }],
          credits: {
            enabled: false
          },
          exporting: { enabled: false }

        };
        
        var data = {
          "success": 1,
          "message": [
            [
              1420092000000,
              4,
              7.96
            ],
            [
              1420178400000,
              5,
              2.94
            ],
            [
              1420264800000,
              6,
              0
            ],
            [
              1420351200000,
              0,
              7.8
            ],
            [
              1420437600000,
              1,
              8.76
            ],
            [
              1420524000000,
              2,
              8.78
            ],
            [
              1420610400000,
              3,
              7.74
            ],
            [
              1420696800000,
              4,
              8.43
            ],
            [
              1420783200000,
              5,
              9.31
            ],
            [
              1420869600000,
              6,
              9.42
            ],
            [
              1420956000000,
              0,
              5.88
            ],
            [
              1421042400000,
              1,
              8.4
            ],
            [
              1421128800000,
              2,
              9.19
            ],
            [
              1421215200000,
              3,
              6.21
            ],
            [
              1421301600000,
              4,
              9.62
            ],
            [
              1421388000000,
              5,
              9.65
            ],
            [
              1421474400000,
              6,
              9.18
            ],
            [
              1421560800000,
              0,
              9.7
            ],
            [
              1421647200000,
              1,
              9.63
            ],
            [
              1421733600000,
              2,
              9.55
            ],
            [
              1421820000000,
              3,
              9.28
            ],
            [
              1421906400000,
              4,
              6.34
            ],
            [
              1421992800000,
              5,
              9.64
            ],
            [
              1422079200000,
              6,
              9.27
            ],
            [
              1422165600000,
              0,
              3
            ],
            [
              1422252000000,
              1,
              9.83
            ],
            [
              1422338400000,
              2,
              9.96
            ],
            [
              1422424800000,
              3,
              9.89
            ],
            [
              1422511200000,
              4,
              6.68
            ],
            [
              1422597600000,
              5,
              9.95
            ],
            [
              1422684000000,
              6,
              2.14
            ],
            [
              1422770400000,
              0,
              0
            ],
            [
              1422856800000,
              1,
              9.34
            ],
            [
              1422943200000,
              2,
              10.09
            ],
            [
              1423029600000,
              3,
              8.16
            ],
            [
              1423116000000,
              4,
              9.74
            ],
            [
              1423202400000,
              5,
              10.09
            ],
            [
              1423288800000,
              6,
              10.33
            ],
            [
              1423375200000,
              0,
              10.16
            ],
            [
              1423461600000,
              1,
              4.42
            ],
            [
              1423548000000,
              2,
              9.07
            ],
            [
              1423634400000,
              3,
              7.94
            ],
            [
              1423720800000,
              4,
              8.29
            ],
            [
              1423807200000,
              5,
              9.39
            ],
            [
              1423893600000,
              6,
              9.63
            ],
            [
              1423980000000,
              0,
              6.55
            ],
            [
              1424066400000,
              1,
              5.39
            ],
            [
              1424152800000,
              2,
              7.9
            ],
            [
              1424239200000,
              3,
              10.32
            ],
            [
              1424325600000,
              4,
              8.61
            ],
            [
              1424412000000,
              5,
              7.11
            ],
            [
              1424498400000,
              6,
              8.24
            ],
            [
              1424584800000,
              0,
              8.27
            ],
            [
              1424671200000,
              1,
              10.4
            ],
            [
              1424757600000,
              2,
              11
            ],
            [
              1424844000000,
              3,
              9.81
            ],
            [
              1424930400000,
              4,
              9.51
            ],
            [
              1425016800000,
              5,
              9.32
            ],
            [
              1425103200000,
              6,
              2.03
            ],
            [
              1425189600000,
              0,
              6.45
            ],
            [
              1425276000000,
              1,
              9.77
            ],
            [
              1425362400000,
              2,
              4.45
            ],
            [
              1425448800000,
              3,
              7.32
            ],
            [
              1425535200000,
              4,
              11.48
            ],
            [
              1425621600000,
              5,
              11.41
            ],
            [
              1425708000000,
              6,
              11.45
            ],
            [
              1425794400000,
              0,
              11.38
            ],
            [
              1425877200000,
              1,
              9.91
            ],
            [
              1425963600000,
              2,
              6.78
            ],
            [
              1426050000000,
              3,
              11.62
            ],
            [
              1426136400000,
              4,
              9.66
            ],
            [
              1426222800000,
              5,
              6.98
            ],
            [
              1426309200000,
              6,
              4.87
            ],
            [
              1426395600000,
              0,
              10.84
            ],
            [
              1426482000000,
              1,
              10.52
            ],
            [
              1426568400000,
              2,
              10.44
            ],
            [
              1426654800000,
              3,
              3.61
            ],
            [
              1426741200000,
              4,
              2.17
            ],
            [
              1426827600000,
              5,
              7.88
            ],
            [
              1426914000000,
              6,
              10.59
            ],
            [
              1427000400000,
              0,
              9.16
            ],
            [
              1427086800000,
              1,
              4.17
            ],
            [
              1427198400000,
              2,
              0
            ],
            [
              1427284800000,
              3,
              0
            ],
            [
              1427371200000,
              4,
              0
            ],
            [
              1427457600000,
              5,
              0
            ],
            [
              1427544000000,
              6,
              0
            ],
            [
              1427630400000,
              0,
              0
            ],
            [
              1427716800000,
              1,
              0
            ],
            [
              1427803200000,
              2,
              0
            ],
            [
              1427889600000,
              3,
              0
            ],
            [
              1427976000000,
              4,
              0
            ],
            [
              1428062400000,
              5,
              0
            ],
            [
              1428148800000,
              6,
              0
            ],
            [
              1428235200000,
              0,
              0
            ],
            [
              1428321600000,
              1,
              0
            ],
            [
              1428408000000,
              2,
              0
            ],
            [
              1428494400000,
              3,
              0
            ],
            [
              1428580800000,
              4,
              0
            ],
            [
              1428667200000,
              5,
              0
            ],
            [
              1428753600000,
              6,
              0
            ],
            [
              1428840000000,
              0,
              0
            ],
            [
              1428926400000,
              1,
              0
            ],
            [
              1429012800000,
              2,
              0
            ],
            [
              1429099200000,
              3,
              0
            ],
            [
              1429185600000,
              4,
              0
            ],
            [
              1429272000000,
              5,
              0
            ],
            [
              1429358400000,
              6,
              0
            ],
            [
              1429444800000,
              0,
              0
            ],
            [
              1429531200000,
              1,
              0
            ],
            [
              1429617600000,
              2,
              0
            ],
            [
              1429704000000,
              3,
              0
            ],
            [
              1429790400000,
              4,
              0
            ],
            [
              1429876800000,
              5,
              0
            ],
            [
              1429963200000,
              6,
              0
            ],
            [
              1430049600000,
              0,
              0
            ],
            [
              1430136000000,
              1,
              0
            ],
            [
              1430222400000,
              2,
              0
            ],
            [
              1430308800000,
              3,
              0
            ],
            [
              1430395200000,
              4,
              0
            ],
            [
              1430481600000,
              5,
              0
            ],
            [
              1430568000000,
              6,
              0
            ],
            [
              1430654400000,
              0,
              0
            ],
            [
              1430740800000,
              1,
              0
            ],
            [
              1430827200000,
              2,
              0
            ],
            [
              1430913600000,
              3,
              0
            ],
            [
              1431000000000,
              4,
              0
            ],
            [
              1431086400000,
              5,
              0
            ],
            [
              1431172800000,
              6,
              0
            ],
            [
              1431259200000,
              0,
              0
            ],
            [
              1431345600000,
              1,
              0
            ],
            [
              1431432000000,
              2,
              0
            ],
            [
              1431518400000,
              3,
              0
            ],
            [
              1431604800000,
              4,
              0
            ],
            [
              1431691200000,
              5,
              0
            ],
            [
              1431777600000,
              6,
              0
            ],
            [
              1431864000000,
              0,
              0
            ],
            [
              1431950400000,
              1,
              0
            ],
            [
              1432036800000,
              2,
              0
            ],
            [
              1432123200000,
              3,
              0
            ],
            [
              1432209600000,
              4,
              0
            ],
            [
              1432296000000,
              5,
              0
            ],
            [
              1432382400000,
              6,
              0
            ],
            [
              1432468800000,
              0,
              0
            ],
            [
              1432555200000,
              1,
              0
            ],
            [
              1432641600000,
              2,
              0
            ],
            [
              1432728000000,
              3,
              0
            ],
            [
              1432814400000,
              4,
              0
            ],
            [
              1432900800000,
              5,
              0
            ],
            [
              1432987200000,
              6,
              0
            ],
            [
              1433073600000,
              0,
              0
            ],
            [
              1433160000000,
              1,
              0
            ],
            [
              1433246400000,
              2,
              0
            ],
            [
              1433332800000,
              3,
              0
            ],
            [
              1433419200000,
              4,
              0
            ],
            [
              1433505600000,
              5,
              0
            ],
            [
              1433592000000,
              6,
              0
            ],
            [
              1433678400000,
              0,
              0
            ],
            [
              1433764800000,
              1,
              0
            ],
            [
              1433851200000,
              2,
              0
            ],
            [
              1433937600000,
              3,
              0
            ],
            [
              1434024000000,
              4,
              0
            ],
            [
              1434110400000,
              5,
              0
            ],
            [
              1434196800000,
              6,
              0
            ],
            [
              1434283200000,
              0,
              0
            ],
            [
              1434369600000,
              1,
              0
            ],
            [
              1434456000000,
              2,
              0
            ],
            [
              1434542400000,
              3,
              0
            ],
            [
              1434628800000,
              4,
              0
            ],
            [
              1434715200000,
              5,
              0
            ],
            [
              1434801600000,
              6,
              0
            ],
            [
              1434888000000,
              0,
              0
            ],
            [
              1434974400000,
              1,
              0
            ],
            [
              1435060800000,
              2,
              0
            ],
            [
              1435147200000,
              3,
              0
            ],
            [
              1435233600000,
              4,
              0
            ],
            [
              1435320000000,
              5,
              0
            ],
            [
              1435406400000,
              6,
              0
            ],
            [
              1435492800000,
              0,
              0
            ],
            [
              1435579200000,
              1,
              0
            ],
            [
              1435665600000,
              2,
              0
            ],
            [
              1435752000000,
              3,
              0
            ],
            [
              1435838400000,
              4,
              0
            ],
            [
              1435924800000,
              5,
              0
            ],
            [
              1436011200000,
              6,
              0
            ],
            [
              1436097600000,
              0,
              0
            ],
            [
              1436184000000,
              1,
              0
            ],
            [
              1436270400000,
              2,
              0
            ],
            [
              1436356800000,
              3,
              0
            ],
            [
              1436443200000,
              4,
              0
            ],
            [
              1436529600000,
              5,
              0
            ],
            [
              1436616000000,
              6,
              0
            ],
            [
              1436702400000,
              0,
              0
            ],
            [
              1436788800000,
              1,
              0
            ],
            [
              1436875200000,
              2,
              0
            ],
            [
              1436961600000,
              3,
              0
            ],
            [
              1437048000000,
              4,
              0
            ],
            [
              1437134400000,
              5,
              0
            ],
            [
              1437220800000,
              6,
              0
            ],
            [
              1437307200000,
              0,
              0
            ],
            [
              1437393600000,
              1,
              0
            ],
            [
              1437480000000,
              2,
              0
            ],
            [
              1437566400000,
              3,
              0
            ],
            [
              1437652800000,
              4,
              0
            ],
            [
              1437739200000,
              5,
              0
            ],
            [
              1437825600000,
              6,
              0
            ],
            [
              1437912000000,
              0,
              0
            ],
            [
              1437998400000,
              1,
              0
            ],
            [
              1438084800000,
              2,
              0
            ],
            [
              1438171200000,
              3,
              0
            ],
            [
              1438257600000,
              4,
              0
            ],
            [
              1438344000000,
              5,
              0
            ],
            [
              1438430400000,
              6,
              0
            ],
            [
              1438516800000,
              0,
              0
            ],
            [
              1438603200000,
              1,
              0
            ],
            [
              1438689600000,
              2,
              0
            ],
            [
              1438776000000,
              3,
              0
            ],
            [
              1438862400000,
              4,
              0
            ],
            [
              1438948800000,
              5,
              0
            ],
            [
              1439035200000,
              6,
              0
            ],
            [
              1439121600000,
              0,
              0
            ],
            [
              1439208000000,
              1,
              0
            ],
            [
              1439294400000,
              2,
              0
            ],
            [
              1439380800000,
              3,
              0
            ],
            [
              1439467200000,
              4,
              0
            ],
            [
              1439553600000,
              5,
              0
            ],
            [
              1439640000000,
              6,
              0
            ],
            [
              1439726400000,
              0,
              0
            ],
            [
              1439812800000,
              1,
              0
            ],
            [
              1439899200000,
              2,
              0
            ],
            [
              1439985600000,
              3,
              0
            ],
            [
              1440072000000,
              4,
              0
            ],
            [
              1440158400000,
              5,
              0
            ],
            [
              1440244800000,
              6,
              0
            ],
            [
              1440331200000,
              0,
              0
            ],
            [
              1440417600000,
              1,
              0
            ],
            [
              1440504000000,
              2,
              0
            ],
            [
              1440590400000,
              3,
              0
            ],
            [
              1440676800000,
              4,
              0
            ],
            [
              1440763200000,
              5,
              0
            ],
            [
              1440849600000,
              6,
              0
            ],
            [
              1440936000000,
              0,
              0
            ],
            [
              1441022400000,
              1,
              0
            ],
            [
              1441108800000,
              2,
              0
            ],
            [
              1441195200000,
              3,
              0
            ],
            [
              1441281600000,
              4,
              0
            ],
            [
              1441368000000,
              5,
              0
            ],
            [
              1441454400000,
              6,
              0
            ],
            [
              1441540800000,
              0,
              0
            ],
            [
              1441627200000,
              1,
              0
            ],
            [
              1441713600000,
              2,
              0
            ],
            [
              1441800000000,
              3,
              0
            ],
            [
              1441886400000,
              4,
              0
            ],
            [
              1441972800000,
              5,
              0
            ],
            [
              1442059200000,
              6,
              0
            ],
            [
              1442145600000,
              0,
              0
            ],
            [
              1442232000000,
              1,
              0
            ],
            [
              1442318400000,
              2,
              0
            ],
            [
              1442404800000,
              3,
              0
            ],
            [
              1442491200000,
              4,
              0
            ],
            [
              1442577600000,
              5,
              0
            ],
            [
              1442664000000,
              6,
              0
            ],
            [
              1442750400000,
              0,
              0
            ],
            [
              1442836800000,
              1,
              0
            ],
            [
              1442923200000,
              2,
              0
            ],
            [
              1443009600000,
              3,
              0
            ],
            [
              1443096000000,
              4,
              0
            ],
            [
              1443182400000,
              5,
              0
            ],
            [
              1443268800000,
              6,
              0
            ],
            [
              1443355200000,
              0,
              0
            ],
            [
              1443441600000,
              1,
              0
            ],
            [
              1443528000000,
              2,
              0
            ],
            [
              1443614400000,
              3,
              0
            ],
            [
              1443700800000,
              4,
              0
            ],
            [
              1443787200000,
              5,
              0
            ],
            [
              1443873600000,
              6,
              0
            ],
            [
              1443960000000,
              0,
              0
            ],
            [
              1444046400000,
              1,
              0
            ],
            [
              1444132800000,
              2,
              0
            ],
            [
              1444219200000,
              3,
              0
            ],
            [
              1444305600000,
              4,
              0
            ],
            [
              1444392000000,
              5,
              0
            ],
            [
              1444478400000,
              6,
              0
            ],
            [
              1444564800000,
              0,
              0
            ],
            [
              1444651200000,
              1,
              0
            ],
            [
              1444737600000,
              2,
              0
            ],
            [
              1444824000000,
              3,
              0
            ],
            [
              1444910400000,
              4,
              0
            ],
            [
              1444996800000,
              5,
              0
            ],
            [
              1445083200000,
              6,
              0
            ],
            [
              1445169600000,
              0,
              0
            ],
            [
              1445256000000,
              1,
              0
            ],
            [
              1445342400000,
              2,
              0
            ],
            [
              1445428800000,
              3,
              0
            ],
            [
              1445515200000,
              4,
              0
            ],
            [
              1445601600000,
              5,
              0
            ],
            [
              1445688000000,
              6,
              0
            ],
            [
              1445774400000,
              0,
              0
            ],
            [
              1445860800000,
              1,
              0
            ],
            [
              1445947200000,
              2,
              0
            ],
            [
              1446033600000,
              3,
              0
            ],
            [
              1446120000000,
              4,
              0
            ],
            [
              1446206400000,
              5,
              0
            ],
            [
              1446292800000,
              6,
              0
            ],
            [
              1446379200000,
              0,
              0
            ],
            [
              1446465600000,
              1,
              0
            ],
            [
              1446552000000,
              2,
              0
            ],
            [
              1446638400000,
              3,
              0
            ],
            [
              1446724800000,
              4,
              0
            ],
            [
              1446811200000,
              5,
              0
            ],
            [
              1446897600000,
              6,
              0
            ],
            [
              1446984000000,
              0,
              0
            ],
            [
              1447070400000,
              1,
              0
            ],
            [
              1447156800000,
              2,
              0
            ],
            [
              1447243200000,
              3,
              0
            ],
            [
              1447329600000,
              4,
              0
            ],
            [
              1447416000000,
              5,
              0
            ],
            [
              1447502400000,
              6,
              0
            ],
            [
              1447588800000,
              0,
              0
            ],
            [
              1447675200000,
              1,
              0
            ],
            [
              1447761600000,
              2,
              0
            ],
            [
              1447848000000,
              3,
              0
            ],
            [
              1447934400000,
              4,
              0
            ],
            [
              1448020800000,
              5,
              0
            ],
            [
              1448107200000,
              6,
              0
            ],
            [
              1448193600000,
              0,
              0
            ],
            [
              1448280000000,
              1,
              0
            ],
            [
              1448366400000,
              2,
              0
            ],
            [
              1448452800000,
              3,
              0
            ],
            [
              1448539200000,
              4,
              0
            ],
            [
              1448625600000,
              5,
              0
            ],
            [
              1448712000000,
              6,
              0
            ],
            [
              1448798400000,
              0,
              0
            ],
            [
              1448884800000,
              1,
              0
            ],
            [
              1448971200000,
              2,
              0
            ],
            [
              1449057600000,
              3,
              0
            ],
            [
              1449144000000,
              4,
              0
            ],
            [
              1449230400000,
              5,
              0
            ],
            [
              1449316800000,
              6,
              0
            ],
            [
              1449403200000,
              0,
              0
            ],
            [
              1449489600000,
              1,
              0
            ],
            [
              1449576000000,
              2,
              0
            ],
            [
              1449662400000,
              3,
              0
            ],
            [
              1449748800000,
              4,
              0
            ],
            [
              1449835200000,
              5,
              0
            ],
            [
              1449921600000,
              6,
              0
            ],
            [
              1450008000000,
              0,
              0
            ],
            [
              1450094400000,
              1,
              0
            ],
            [
              1450180800000,
              2,
              0
            ],
            [
              1450267200000,
              3,
              0
            ],
            [
              1450353600000,
              4,
              0
            ],
            [
              1450440000000,
              5,
              0
            ],
            [
              1450526400000,
              6,
              0
            ],
            [
              1450612800000,
              0,
              0
            ],
            [
              1450699200000,
              1,
              0
            ],
            [
              1450785600000,
              2,
              0
            ],
            [
              1450872000000,
              3,
              0
            ],
            [
              1450958400000,
              4,
              0
            ],
            [
              1451044800000,
              5,
              0
            ],
            [
              1451131200000,
              6,
              0
            ],
            [
              1451217600000,
              0,
              0
            ],
            [
              1451304000000,
              1,
              0
            ],
            [
              1451390400000,
              2,
              0
            ],
            [
              1451476800000,
              3,
              0
            ],
            [
              1451563200000,
              4,
              0
            ]
          ]
        };

        expect(function(){scope.drawHeatmap(data)}).to.not.throw(Error);
    });

});*/
